<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
</head>

<body>
    <div class="mermaid">
        flowchart TB
  box_coordinates["**box_coordinates**"]
  dora-distil-whisper["**dora-distil-whisper**"]
  dora-microphone["**dora-microphone**"]
  dora-qwenvl["**dora-qwenvl**"]
  dora-rm65-arm["**dora-rm65-arm**"]
  dora-tcp-pc[\"**dora-tcp-pc**"/]
  dora-vad["**dora-vad**"]
  parse_bbox["**parse_bbox**"]
  state_machine["**state_machine**"]
  visualization_node[/"**visualization_node**"\]
subgraph ___dora___ [dora]
  subgraph ___timer_timer___ [timer]
    dora/timer/millis/50[\millis/50/]
    dora/timer/millis/600[\millis/600/]
    dora/timer/secs/2[\secs/2/]
  end
end
  parse_bbox -- bbox as boxes2d --> box_coordinates
  dora-tcp-pc -- depth --> box_coordinates
  dora-vad -- audio --> dora-distil-whisper
  dora/timer/secs/2 -- tick --> dora-microphone
  dora-tcp-pc -- image_depth --> dora-qwenvl
  dora/timer/millis/600 -- text_1 --> dora-qwenvl
  state_machine -- text_vlm as text_2 --> dora-qwenvl
  state_machine -- action_l_arm as pose_l --> dora-rm65-arm
  state_machine -- action_r_arm as pose_r --> dora-rm65-arm
  dora-microphone -- audio --> dora-vad
  state_machine -- prompt --> parse_bbox
  dora-qwenvl -- text --> parse_bbox
  box_coordinates -- pose --> state_machine
  dora-rm65-arm -- response_l_arm --> state_machine
  dora-rm65-arm -- response_r_arm --> state_machine
  dora-distil-whisper -- text --> state_machine
  dora-tcp-pc -- image_depth as camera_image --> visualization_node
  parse_bbox -- bbox as camera_torso/boxes2d --> visualization_node
  dora-distil-whisper -- text as text_whisper --> visualization_node
  dora/timer/millis/50 -- tick --> visualization_node
  dora-qwenvl -- text as vision_result --> visualization_node

    </div>
    <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
    <script>mermaid.initialize({ startOnLoad: true, securityLevel: 'loose', theme: 'base' });
    </script>
</body>

</html>
